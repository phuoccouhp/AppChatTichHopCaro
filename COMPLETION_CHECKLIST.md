# ? ????????

## ???????

### ????
- [x] Windows Firewall ?? Outbound ??
- [x] Server ??? Client ??????
- [x] ?????? 10 ???

### ????
- [x] ?? `FirewallHelper.cs` - ?? PowerShell ??
- [x] ?? `OpenFirewall.bat` - ?? PowerShell ??
- [x] ?????? ?

### ???????
- [x] `QuickStart.bat` - ??????? Admin + ?????
- [x] `RunServerAsAdmin.bat` - Admin ?? Server
- [x] `OpenFirewall.bat` - ?????????

### ???????
- [x] `CLIENT_SERVER_CONNECTION_FIX.md` - ?????????
- [x] `SERVER_FIREWALL_SETUP_GUIDE.md` - ?????????
- [x] `FIX_COMPLETE_SUMMARY.md` - ????
- [x] `VISUAL_GUIDE.txt` - ??? ASCII ??
- [x] `QUICK_FIX_GUIDE.md` - ???????????

---

## ????

### ?????????
```bash
???? ? QuickStart.bat
```

### ????
1. **??** `QuickStart.bat`
2. **???** ?? Admin ??
3. ????????
4. ?? `? Firewall port 9000 successfully opened` ????
5. ?? Client ? ?? ? ???

### ????
```bash
?? OpenFirewall.bat ? ????????
?
?? Server: dotnet run --project ChatAppServer/ChatAppServer.csproj
?
?? Client: dotnet run --project ChatAppClient/ChatAppClient.csproj
?
?? ? ???
```

---

## ???????

### ?? 1: PowerShell ??
```powershell
Get-NetFirewallRule -DisplayName "ChatAppServer*" | 
    Select DisplayName, Direction, Action, Enabled | 
    Format-Table
```

?????
```
DisplayName           Direction  Action  Enabled
?????????????????????  ?????????? ?????? ???????
ChatAppServer         Inbound    Allow  True
ChatAppServer (Out)   Outbound   Allow  True
```

### ?? 2: Windows Firewall GUI
```
? Win ? ? ?? "???" ? ????
??: Inbound Rules ? ?? "ChatAppServer"
??: Outbound Rules ? ?? "ChatAppServer (Out)"
```

### ?? 3: Server ????
```
??????????????
? Firewall port 9000 successfully opened and verified!
```

---

## ??????

| ?? | Inbound | Outbound | ???? |
|------|---------|----------|---------|
| Rule Name | ChatAppServer | ChatAppServer (Out) | Get-NetFirewallRule -DisplayName |
| Direction | Inbound | Outbound | Get-NetFirewallRule -Direction |
| Action | Allow | Allow | Get-NetFirewallRule -Action |
| Protocol | TCP | TCP | Get-NetFirewallPortFilter -Protocol |
| Port | 9000 | 9000 | Get-NetFirewallPortFilter -LocalPort |
| Remote Address | Any | **Any** | Get-NetFirewallAddressFilter -RemoteAddress |
| Profiles | Domain,Private,Public | Domain,Private,Public | ?????? |
| Enabled | True | True | Get-NetFirewallRule -Enabled |

### ??????
```powershell
# ?? Outbound ??? RemoteAddress
Get-NetFirewallRule -DisplayName "ChatAppServer (Out)" | 
    Get-NetFirewallAddressFilter | 
    Select RemoteAddress

# ?????: RemoteAddress : Any
```

---

## ????

### ?? 1: ?????
```bash
? ????? (PowerShell ???)
? ????? (Enabled = True)
? RemoteAddress = Any
```

### ?? 2: Server ??
```bash
??: dotnet run --project ChatAppServer/ChatAppServer.csproj

????:
? Firewall port 9000 successfully opened and verified!
Server ?????: 9000
```

### ?? 3: Client ??
```
Server IP: 127.0.0.1 (??) ??? IP
Port: 9000
User: admin
Pass: 123456

????:
? ????
? ??????????
? ?????
```

### ?? 4: ????
```
Client ? Server: ? ????
Server ? Client: ? ???????
????: ? ????????
```

---

## ?????

```
??: Client ????
?? ???????
?  ?? ??? ? ?? OpenFirewall.bat ? QuickStart.bat
?  ?? ?? ? ?????
?? Outbound ? RemoteAddress ??? Any?
?  ?? ?? ? ?????????
?  ?? ? ? ?????
?? Server ???? 9000?
?  ?? ? ? netstat -ano | findstr :9000 ??????
?  ?? ? ? ?????
?? Client ? Server ???????
?  ?? ? ? ping [Server-IP] ????
?  ?? ? ? ?????????
?? ??????: DebugFirewallRules.ps1
```

---

## ????

### ???????
```
? Firewall port 9000 successfully opened and verified!
? [CONNECT] New client connected: xxx.xxx.xxx.xxx
? [RECV RAW] LoginPacket ????
? [LoginHandler] User 'admin' ??????
? [Client] ???? ? ?????
```

### Client ??????
```
? ?????
? ????????
? ??????
? ???????
```

### ???????
```
Client ??? Server (Inbound ?)
Client ??? Server (Outbound ?)
```

---

## ????

### ??????
- ???: ??????? QuickStart.bat?
- ??: ???????????

### ????????
- [ ] Windows Firewall ???
- [ ] ????????
- [ ] Windows ???
- [ ] ??????

### ????
```bash
# ??????
QuickStart.bat
```

---

## ??????

### ????
- `QuickStart.bat` ? - ????
- `RunServerAsAdmin.bat` - Admin ??
- `OpenFirewall.bat` - ????

### ????
- `DebugFirewallRules.ps1` - ????
- `CheckFirewallRuleDetails.bat` - ??????
- `TestPowerShellFirewall.bat` - ?? PowerShell

### ????
- `QUICK_FIX_GUIDE.md` ? - ????????
- `CLIENT_SERVER_CONNECTION_FIX.md` - ????
- `SERVER_FIREWALL_SETUP_GUIDE.md` - ????
- `VISUAL_GUIDE.txt` - ?????
- `FIX_COMPLETE_SUMMARY.md` - ????

### ????
- `FirewallHelper.cs` - ??? Helper?????
- `NetworkManager.cs` - Client ????
- `ClientHandler.cs` - Server ?????

---

## ????

### ????
- [ ] ???????????
- [ ] ??????????
- [ ] Windows 10/11 ??
- [ ] .NET 8 SDK ???

### ????
- [ ] ??? QuickStart.bat ? OpenFirewall.bat
- [ ] ???????????
- [ ] Server ????
- [ ] ?? "? Firewall port 9000 successfully opened"

### ????
- [ ] PowerShell ????????
- [ ] ?????? Enabled = True
- [ ] Outbound ??? RemoteAddress = Any
- [ ] Client ??????
- [ ] ??????

### ????
- [ ] ????
- [ ] ????????
- [ ] ?????????
- [ ] ???????
- [ ] ??????

---

## ????

???????????????

1. ??????
   ```bash
   .\DebugFirewallRules.ps1
   ```

2. ????
   ```
   Server ??????????
   Client ??????
   PowerShell ??????
   ```

3. ????
   - [ ] Server ??? Admin ?????
   - [ ] ???????????
   - [ ] RemoteAddress ??? Any?
   - [ ] ??????????
   - [ ] ????????????

---

## ??

? **????**: Windows Firewall ? Outbound ??  
? **????**: ????????????  
? **????**: ?? `QuickStart.bat` ????  
? **????**: Server ???????Client ???  

**?????** ??

